* Aquaris - [WIP] My NixOS module library
Use Aquaris to easily manage related machines, their users and secrets!

Check out the example configuration to see how this looks in practice:
- [[file:flake.nix][flake.nix]] - Definition of users and machines
- [[file:machines/example/default.nix][machines/example/default.nix]] - A machine-specific configuration

Or create a blank configuration from the template by running:
#+begin_src shell
  nix flake new -t github:42loco42/aquaris config
#+end_src

** Documentation

** Secrets management
Aquaris includes a powerful secrets management facility (AQS),
with secrets belonging to one of three categories:
- toplevel: included by all NixOS configurations
- user: personal secrets like SSH keys or password hashes,
  readable by all machines the user is part of
- machine: secrets for machines like API keys or TLS certificates,
  readable only by the respective machine itself

This is inspired by [[https://github.com/ryantm/agenix][agenix]], but without the need to explicitly define
the list of secrets and their corresponding public keys.
Secrets are managed via the [[file:docs/aqs.org][aqs]] command exported by this flake.
